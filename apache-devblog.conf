# Devblog - Apache configuration fragment
# Add this inside the <VirtualHost> block in /etc/apache2/sites-enabled/default-ssl.conf

# CGI wrapper scripts for the devblog API
ScriptAlias /devblog/api/posts /usr/lib/cgi-bin/devblog-posts.cgi
ScriptAlias /devblog/api/post /usr/lib/cgi-bin/devblog-post.cgi
ScriptAlias /devblog/feed.xml /usr/lib/cgi-bin/devblog-feed.cgi

<Directory "/usr/lib/cgi-bin">
    Options +ExecCGI
    SetHandler cgi-script
    Require all granted
</Directory>

# Serve static files for the devblog frontend
Alias /devblog /var/www/devblog

<Directory "/var/www/devblog">
    Options -Indexes +FollowSymLinks
    AllowOverride None
    Require all granted

    # SPA routing - serve index.html for any non-file paths
    FallbackResource /devblog/index.html
</Directory>
